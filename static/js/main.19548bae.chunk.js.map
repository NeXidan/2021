{"version":3,"sources":["Eyes/Eyes.module.css","Link/Link.module.css","Alesha/Alesha.module.css","Doge/Doge.module.css","Background/Background.module.css","Title/Title.module.css","helpers/filterNullable.ts","helpers/cn.ts","helpers/supportsPassive.ts","hooks/useEventListener/useEventListener.ts","hooks/useEventListener/EventMap.ts","hooks/useValueRef/useValueRef.ts","Eyes/Eyes.tsx","helpers/getElementOffset.ts","Alesha/Alesha.tsx","Doge/Doge.tsx","helpers/randomFromRange.ts","Background/Background.tsx","Title/Title.tsx","Link/Link.tsx","App.tsx","index.tsx"],"names":["module","exports","filterNullable","arr","filter","item","Boolean","cn","classes","join","supportsPassive","window","addEventListener","Object","defineProperty","get","e","eventMap","factory","targets","Map","this","target","events","set","event","targetEvents","getTargetEvents","values","handlers","scheduled","useEventListener","handler","handlerRef","value","valueRef","useRef","current","useValueRef","useEffect","getEventValues","onEvent","args","requestAnimationFrame","forEach","listener","hasListeners","length","push","passive","a","removeEventListener","radToDeg","x","Math","PI","getRad","element","pageX","pageY","offset","y","isNaN","offsetLeft","offsetTop","scrollLeft","scrollTop","offsetParent","top","left","getElementOffset","offsetWidth","offsetHeight","atan2","Eyes","className","aRef","React","bRef","useSpring","b","document","xy","aRad","bRad","immediate","styles","wrapper","div","eye","style","transform","interpolate","ref","Alesha","rotate","alesha","eyes","Doge","doge","randomFromRange","min","max","round","random","Background","dogesCount","Array","from","body","clientHeight","clientWidth","Component","doges","container","map","index","props","key","Title","children","title","Link","href","description","link","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.19548bae.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Eyes_wrapper__2FgIp\",\"eye\":\"Eyes_eye__2q7Uy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Link_wrapper__2gWfY\",\"description\":\"Link_description__VZnxy\",\"link\":\"Link_link__3Trat\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"alesha\":\"Alesha_alesha__1z-Q4\",\"eyes\":\"Alesha_eyes__n-xUQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"doge\":\"Doge_doge__34Wv3\",\"eyes\":\"Doge_eyes__RWoeV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Background_container__LnBrQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"Title_title__2YXVe\"};","export function filterNullable<T>(arr: Nullable<T>[]) {\n    return arr.filter<T>((item): item is T => Boolean(item) || item === 0);\n}\n","import {filterNullable} from './filterNullable';\n\nexport function cn(...classes: Nullable<string>[]): string {\n    return filterNullable(classes).join(' ');\n}\n","let supportsPassive = false;\n\ntry {\n    // @ts-ignore\n    window.addEventListener(\n        'test',\n        null,\n        Object.defineProperty({}, 'passive', {\n            get: function() {\n                supportsPassive = true;\n            },\n        })\n    );\n} catch (e) {\n    // ok\n}\n\nexport {supportsPassive};\n","import {useEffect} from 'react';\nimport {supportsPassive} from '../../helpers/supportsPassive';\nimport {useValueRef} from '../useValueRef/useValueRef';\nimport {EventMap} from './EventMap';\n\nconst eventMap = new EventMap<{\n    handlers: React.RefObject<EventListener>[];\n    scheduled: boolean;\n}>(() => {\n    return {handlers: [], scheduled: false};\n});\n\nexport function useEventListener(target: any, event: string, handler: (event: any) => void) {\n    const handlerRef = useValueRef(handler);\n\n    useEffect(() => {\n        if (!target) {\n            return;\n        }\n\n        let values = eventMap.getEventValues(target, event);\n\n        let onEvent: EventListener = (...args) => {\n            if (values.scheduled) {\n                return;\n            }\n\n            values.scheduled = true;\n\n            requestAnimationFrame(() => {\n                values.handlers.forEach((listener: React.RefObject<any>) => {\n                    if (listener.current) {\n                        listener.current(...args);\n                    }\n                });\n\n                values.scheduled = false;\n            });\n        };\n\n        let hasListeners = Boolean(values.handlers.length);\n        values.handlers.push(handlerRef);\n\n        if (!hasListeners && target.addEventListener) {\n            target.addEventListener(\n                event,\n                onEvent,\n                supportsPassive ? {passive: true} : true\n            );\n        }\n\n        return () => {\n            values.handlers = values.handlers.filter((a) => a !== handlerRef);\n\n            let hasListeners = Boolean(values.handlers);\n\n            if (!hasListeners && target.removeEventListener) {\n                target.removeEventListener(event, onEvent);\n            }\n        };\n    }, [target, event]);\n}\n","export class EventMap<T> {\n    private targets: Map<any, Map<string, T>> = new Map();\n    private factory: () => T;\n\n    constructor(factory: () => T) {\n        this.factory = factory;\n    }\n\n    getTargetEvents(target: any) {\n        let events = this.targets.get(target);\n\n        if (!events) {\n            events = new Map();\n\n            this.targets.set(target, events);\n        }\n\n        return events;\n    }\n\n    getEventValues(target: any, event: string) {\n        let targetEvents = this.getTargetEvents(target);\n        let values = targetEvents.get(event);\n\n        if (!values) {\n            values = this.factory();\n\n            targetEvents.set(event, values);\n        }\n\n        return values;\n    }\n}\n","import {useRef} from 'react';\n\nexport function useValueRef<T>(value: T) {\n    let valueRef = useRef<T>(value);\n\n    if (valueRef.current !== value) {\n        valueRef.current = value;\n    }\n\n    return valueRef;\n}\n","import * as React from 'react';\nimport {animated, useSpring} from 'react-spring';\nimport {cn} from '../helpers/cn';\nimport {getElementOffset} from '../helpers/getElementOffset';\nimport {useEventListener} from '../hooks/useEventListener/useEventListener';\nimport styles from './Eyes.module.css';\n\ninterface EyesProps {\n    className?: string;\n}\n\nfunction radToDeg(x: number) {\n    return (x * (180 / Math.PI) * -1) + 180;\n}\n\nfunction getRad(element: HTMLDivElement | null, [pageX, pageY]: [number, number]) {\n    if (!element) {\n        return 0;\n    }\n\n    const offset = getElementOffset(element);\n\n    const x = offset.left + (element.offsetWidth / 2);\n    const y = offset.top + (element.offsetHeight / 2);\n    return Math.atan2(pageX - x, pageY - y);\n}\n\nexport const Eyes: React.FC<EyesProps> = ({className}) => {\n    const aRef = React.useRef<HTMLDivElement | null>(null);\n    const bRef = React.useRef<HTMLDivElement | null>(null);\n\n    const [{a, b}, set] = useSpring<{a: number, b: number}>(() => ({a: 0, b: 0}));\n\n    useEventListener(document, 'mousemove', (event: MouseEvent) => {\n        const xy: [number, number] = [event.pageX, event.pageY];\n        const aRad = getRad(aRef.current, xy);\n        const bRad = getRad(aRef.current, xy);\n        set({a: aRad, b: bRad, immediate: true});\n    });\n\n    return (\n        <div className={cn(styles.wrapper, className)}>\n            <animated.div className={styles.eye} style={{transform: a.interpolate((x) => 'rotate(' + radToDeg(x) + 'deg)')}} ref={aRef} />\n            <animated.div className={styles.eye} style={{transform: b.interpolate((x) => 'rotate(' + radToDeg(x) + 'deg)')}} ref={bRef} />\n        </div>\n    );\n};\n","export function getElementOffset(element: any): {top: number; left: number} {\n    let x = 0;\n    let y = 0;\n    while (element && !isNaN(element.offsetLeft) && !isNaN(element.offsetTop)) {\n        x += element.offsetLeft - element.scrollLeft;\n        y += element.offsetTop - element.scrollTop;\n\n        element = element.offsetParent;\n    }\n\n    return {top: y, left: x};\n}\n","import * as React from 'react';\nimport {Eyes} from '../Eyes/Eyes';\nimport {cn} from '../helpers/cn';\nimport styles from './Alesha.module.css';\n\ninterface AleshaProps {\n    top: number;\n    left: number;\n    rotate?: number;\n    className?: string;\n}\n\nexport const Alesha: React.FC<AleshaProps> = ({top, left, rotate = 0, className}) => {\n    return (\n        <div className={cn(styles.alesha, className)} style={{top, left, transform: `rotate(${rotate}deg)`}}>\n            <Eyes className={styles.eyes} />\n        </div>\n    );\n};\n","import * as React from 'react';\nimport {Eyes} from '../Eyes/Eyes';\nimport {cn} from '../helpers/cn';\nimport styles from './Doge.module.css';\n\ninterface DogeProps {\n    top: number;\n    left: number;\n    rotate?: number;\n    className?: string;\n}\n\nexport const Doge: React.FC<DogeProps> = ({top, left, rotate = 0, className}) => {\n    return (\n        <div className={cn(styles.doge, className)} style={{top, left, transform: `rotate(${rotate}deg)`}}>\n            <Eyes className={styles.eyes} />\n        </div>\n    );\n};\n","export function randomFromRange(min: number, max: number) {\n    return Math.round(min - 0.5 + Math.random() * (max - min + 1));\n}\n","import * as React from 'react';\nimport {Alesha} from '../Alesha/Alesha';\nimport {Doge} from '../Doge/Doge';\nimport {randomFromRange} from '../helpers/randomFromRange';\nimport styles from './Background.module.css';\n\ninterface BackgroundProps {\n    dogesCount: number;\n}\n\nexport const Background: React.FC<BackgroundProps> = ({dogesCount}) => {\n    const [doges] = React.useState(() => {\n        return Array.from({length: dogesCount}, () => {\n            return {\n                top: randomFromRange(0, document.body.clientHeight - 231),\n                left: randomFromRange(0, document.body.clientWidth - 170),\n                rotate: randomFromRange(-60, 60),\n                Component: Math.random() > 0.5 ? Doge : Alesha,\n            };\n        });\n    });\n\n    return (\n        <div\n            className={styles.container}\n        >\n            {doges.map(({Component, ...props}, index) => <Component {...props} key={index} />)}\n        </div>\n    );\n};\n","import * as React from 'react';\nimport styles from './Title.module.css';\n\nexport const Title: React.FC = ({children}) => {\n    return (\n        <div className={styles.title}>{children}</div>\n    );\n};\n","import * as React from 'react';\nimport styles from './Link.module.css';\n\ninterface LinkProps {\n    href: string\n}\n\nexport const Link: React.FC<LinkProps> = ({href}) => {\n    return (\n        <a className={styles.wrapper} href={href}>\n            <div className={styles.description}>Че зыришь глаза пузыришь?</div>\n            <div className={styles.link}>{'> Жми сюда <'}</div>\n        </a>\n    );\n};\n","import './App.css';\nimport {Background} from './Background/Background';\nimport {Title} from './Title/Title';\nimport {Link} from './Link/Link';\n\nexport const App: React.FC = () => {\n    return (\n        <div className=\"app\">\n            <Background dogesCount={50} />\n\n            <Title>{'🎉 2021 🎉'}</Title>\n\n            <Link href=\"https://bit.ly/37zbq84\" />\n        </div>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}